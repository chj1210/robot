<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>建構AI人形機器人_陳宏彰</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: A single-page application with a fixed left-sidebar for navigation and a main content area. This structure allows users to easily jump between key project facets—Architecture, Hardware, Assembly, Software, and AI Application—without losing context. This thematic, task-oriented approach is more user-friendly than a linear document scroll, enabling users to explore the information based on their immediate interest (e.g., checking costs, viewing wiring diagrams). Interactions like filtering the BOM and hovering over diagrams are designed to deepen understanding through active engagement. -->
    <!-- Visualization & Content Choices: 
        - Architecture Diagram (HTML/CSS): Goal: Organize. Method: Interactive diagram with hover effects to explain the role of each component. Justification: Visually clarifies the core hierarchical concept instantly.
        - BOM Chart (Chart.js Donut): Goal: Compare/Inform. Method: Dynamic donut chart linked to a filterable table. Justification: Allows users to visually grasp the project's cost structure and how different component categories contribute to the total budget.
        - Wiring Diagram (HTML/CSS): Goal: Inform/Organize. Method: Interactive diagram with hover-based highlighting. Justification: Simplifies the complex wiring process by allowing users to trace connections visually and reduce potential errors.
        - Software & AI Flowcharts (HTML/CSS): Goal: Organize/Change. Method: Clickable, step-by-step flowcharts. Justification: Breaks down complex processes into manageable, easy-to-follow steps, preventing information overload.
        - All visualizations are implemented using Canvas (via Chart.js) or structured HTML/CSS, adhering to the NO SVG/Mermaid constraint. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; }
        .nav-link { transition: all 0.2s ease-in-out; }
        .nav-link.active { background-color: #f59e0b; color: white; }
        .nav-link:not(.active):hover { background-color: #fde68a; color: #78350f; }
        .content-section { display: none; }
        .content-section.active { display: block; }
        .chart-container { position: relative; width: 100%; max-width: 450px; margin-left: auto; margin-right: auto; height: 450px; max-height: 80vh; }
        .flowchart-step { transition: all 0.2s ease-in-out; cursor: pointer; }
        .flowchart-step:hover { transform: translateY(-4px); box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05); }
        .interactive-diagram-item { transition: all 0.2s ease-in-out; }
        .interactive-diagram-item:hover .diagram-content { transform: scale(1.05); background-color: #fef3c7; }
    </style>
</head>
<body class="bg-stone-100 text-stone-800">

    <div class="flex flex-col md:flex-row min-h-screen">
        <nav id="sidebar" class="w-full md:w-64 bg-white shadow-lg p-4 md:p-6 flex-shrink-0">
            <h1 class="text-2xl font-bold text-amber-600 mb-8">建構指南</h1>
            <ul class="space-y-2">
                <li><a href="#overview" class="nav-link block w-full text-left px-4 py-2 rounded-lg font-semibold">專案總覽</a></li>
                <li><a href="#hardware" class="nav-link block w-full text-left px-4 py-2 rounded-lg font-semibold">硬體清單 (BOM)</a></li>
                <li><a href="#assembly" class="nav-link block w-full text-left px-4 py-2 rounded-lg font-semibold">組裝與佈線</a></li>
                <li><a href="#software" class="nav-link block w-full text-left px-4 py-2 rounded-lg font-semibold">軟體生態</a></li>
                <li><a href="#ai-app" class="nav-link block w-full text-left px-4 py-2 rounded-lg font-semibold">AI 應用實例</a></li>
            </ul>
        </nav>

        <main class="flex-1 p-4 md:p-10 overflow-auto">
            
            <section id="overview" class="content-section space-y-8">
                <h2 class="text-3xl font-bold text-stone-700 border-b-4 border-amber-400 pb-2">專案總覽：分層式控制架構</h2>
                <p class="text-lg text-stone-600">本專案的核心是採用一種分層式、分散式的控制架構來建構先進的人形機器人。這種架構將高階的 AI 認知功能與低階的即時馬達控制徹底分離，解決了單一控制器在處理複雜任務時的效能瓶頸。您可以將滑鼠懸停在下方圖表的各個組件上，以了解它們在系統中扮演的角色。</p>
                
                <div class="w-full p-4">
                    <div class="text-center font-bold text-xl mb-4 text-amber-700">系統架構圖</div>
                    <div class="flex flex-col items-center space-y-2">
                        <div class="interactive-diagram-item w-full max-w-sm">
                            <div class="diagram-content border-2 border-amber-500 bg-amber-100 rounded-lg p-4 shadow-md text-center">
                                <h3 class="font-bold text-lg">NVIDIA Jetson Nano</h3>
                                <p class="text-sm font-semibold text-amber-800">高階規劃器 (大腦)</p>
                                <div class="tooltip absolute hidden bg-gray-800 text-white text-xs rounded py-1 px-2 z-10 -mt-8">執行 AI 視覺辨識與決策</div>
                            </div>
                        </div>
                        <div class="text-3xl text-stone-400">↓</div>
                        <div class="interactive-diagram-item w-full max-w-sm">
                            <div class="diagram-content border-2 border-sky-500 bg-sky-100 rounded-lg p-4 shadow-md text-center">
                                <h3 class="font-bold text-lg">ROS (機器人作業系統)</h3>
                                <p class="text-sm font-semibold text-sky-800">通訊中介</p>
                            </div>
                        </div>
                        <div class="text-3xl text-stone-400">↓</div>
                        <div class="flex flex-col md:flex-row justify-center items-center md:space-x-8 w-full">
                            <div class="interactive-diagram-item w-full max-w-xs mt-2 md:mt-0">
                                <div class="diagram-content border-2 border-emerald-500 bg-emerald-100 rounded-lg p-4 shadow-md text-center">
                                    <h3 class="font-bold text-lg">Arduino Mega #1</h3>
                                    <p class="text-sm font-semibold text-emerald-800">神經中樞 (右半身)</p>
                                </div>
                            </div>
                            <div class="interactive-diagram-item w-full max-w-xs mt-2 md:mt-0">
                                <div class="diagram-content border-2 border-emerald-500 bg-emerald-100 rounded-lg p-4 shadow-md text-center">
                                    <h3 class="font-bold text-lg">Arduino Mega #2</h3>
                                    <p class="text-sm font-semibold text-emerald-800">神經中樞 (左半身)</p>
                                </div>
                            </div>
                        </div>
                         <div class="text-3xl text-stone-400">↓</div>
                         <div class="interactive-diagram-item w-full max-w-md">
                            <div class="diagram-content border-2 border-rose-500 bg-rose-100 rounded-lg p-4 shadow-md text-center">
                                <h3 class="font-bold text-lg">伺服馬達群組</h3>
                                <p class="text-sm font-semibold text-rose-800">致動器 (關節)</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="hardware" class="content-section space-y-8">
                <h2 class="text-3xl font-bold text-stone-700 border-b-4 border-amber-400 pb-2">硬體清單 (BOM) 與成本分析</h2>
                <p class="text-lg text-stone-600">建構機器人始於精確的物料規劃。下表列出了建構 InMoov 上半身所需的關鍵組件。您可以使用下方的按鈕篩選不同類別的組件，右側的成本分佈圖將會即時更新，幫助您快速了解各部分的預算佔比。</p>
                <div class="flex flex-col lg:flex-row gap-8">
                    <div class="w-full lg:w-3/5">
                        <div id="bom-filters" class="flex flex-wrap gap-2 mb-4">
                            <button data-filter="all" class="px-4 py-2 bg-amber-500 text-white rounded-lg shadow hover:bg-amber-600">全部</button>
                            <button data-filter="核心處理" class="px-4 py-2 bg-stone-200 rounded-lg shadow hover:bg-stone-300">核心處理</button>
                            <button data-filter="致動器" class="px-4 py-2 bg-stone-200 rounded-lg shadow hover:bg-stone-300">致動器</button>
                            <button data-filter="電源系統" class="px-4 py-2 bg-stone-200 rounded-lg shadow hover:bg-stone-300">電源系統</button>
                            <button data-filter="其他" class="px-4 py-2 bg-stone-200 rounded-lg shadow hover:bg-stone-300">其他</button>
                        </div>
                        <div class="overflow-x-auto bg-white rounded-lg shadow">
                            <table class="w-full text-sm text-left text-gray-500">
                                <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                    <tr>
                                        <th scope="col" class="px-6 py-3">零件名稱</th>
                                        <th scope="col" class="px-6 py-3">數量</th>
                                        <th scope="col" class="px-6 py-3">總估價 (USD)</th>
                                    </tr>
                                </thead>
                                <tbody id="bom-table-body">
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="w-full lg:w-2/5">
                        <div class="bg-white p-4 rounded-lg shadow h-full">
                           <h3 class="text-xl font-bold text-center mb-4 text-stone-700">成本分佈圖</h3>
                            <div class="chart-container">
                                <canvas id="costChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="assembly" class="content-section space-y-8">
                <h2 class="text-3xl font-bold text-stone-700 border-b-4 border-amber-400 pb-2">組裝與佈線指南</h2>
                <p class="text-lg text-stone-600">精確的組裝與整潔的佈線是機器人穩定運作的基礎。本節提供關鍵的佈線參考，特別是伺服馬達訊號線與 Arduino Mega 的引腳對應。請務必遵循雙電源系統原則：一個用於邏輯單元（Jetson/Arduino），另一個獨立的大電流電源專門用於所有伺服馬達。</p>
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="text-xl font-bold text-stone-700 mb-4">Arduino Mega 引腳對應表</h3>
                    <p class="text-stone-600 mb-4">下表定義了每個伺服馬達應連接到哪塊 Arduino 的哪個腳位。這是軟硬體對接的關鍵，軟體中的腳位設定必須與此物理連接完全一致。</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-bold text-lg text-emerald-700 mb-2">Right Arduino Mega (右半身)</h4>
                            <ul class="list-disc list-inside space-y-1 text-stone-600">
                                <li>D12: Omoplate (肩胛骨)</li>
                                <li>D11: Shoulder (肩膀)</li>
                                <li>D10: Rotate (臂旋轉)</li>
                                <li>D9: Bicep (二頭肌)</li>
                                <li>D8: Wrist (手腕旋轉)</li>
                                <li>D7: Thumb (拇指)</li>
                                <li>D6: Index (食指)</li>
                                <li>D5: Majeure (中指)</li>
                                <li>D4: RingFinger (無名指)</li>
                                <li>D3: Pinky (小指)</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-bold text-lg text-emerald-700 mb-2">Left Arduino Mega (左半身 & 頭部)</h4>
                            <ul class="list-disc list-inside space-y-1 text-stone-600">
                                <li>D12: Omoplate (肩胛骨)</li>
                                <li>D11: Shoulder (肩膀)</li>
                                <li>D10: Rotate (臂旋轉)</li>
                                <li>D9: Bicep (二頭肌)</li>
                                <li>D8: Wrist (手腕旋轉)</li>
                                <li>D7: Thumb (拇指)</li>
                                <li>D6: Index (食指)</li>
                                <li>D5: Majeure (中指)</li>
                                <li>D4: RingFinger (無名指)</li>
                                <li>D3: Pinky (小指)</li>
                                <li class="mt-2 font-semibold">D26: Neck (頸部)</li>
                                <li>D27: Head Rotate (頭部旋轉)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <section id="software" class="content-section space-y-8">
                <h2 class="text-3xl font-bold text-stone-700 border-b-4 border-amber-400 pb-2">軟體生態：從系統到應用</h2>
                <p class="text-lg text-stone-600">為機器人注入靈魂需要一個複雜而強大的軟體堆疊。以下流程圖展示了從底層作業系統到高階應用程式的完整配置過程。點擊每個步驟可以查看更詳細的說明（在本應用中為簡化展示）。這個結構化的流程將複雜的除錯問題分解為可驗證的步驟，大大提高了專案成功率。</p>
                <div class="relative pl-8 border-l-4 border-stone-300 space-y-12 py-4">
                    <div class="flowchart-step absolute w-8 h-8 bg-amber-500 rounded-full -left-4 top-4 border-4 border-white"></div>
                    <div class="flowchart-step bg-white p-6 rounded-lg shadow-lg">
                        <h3 class="text-xl font-bold text-amber-700">1. 準備 Jetson Nano 環境</h3>
                        <p class="mt-2 text-stone-600">燒錄最新的 JetPack SDK，它包含了 Ubuntu 作業系統、CUDA、TensorRT 等所有必要的驅動和函式庫。</p>
                    </div>
                    <div class="flowchart-step absolute w-8 h-8 bg-sky-500 rounded-full -left-4 top-1/4 mt-8 border-4 border-white"></div>
                    <div class="flowchart-step bg-white p-6 rounded-lg shadow-lg">
                        <h3 class="text-xl font-bold text-sky-700">2. 安裝 ROS 框架</h3>
                        <p class="mt-2 text-stone-600">安裝機器人作業系統（ROS），作為整個系統的通訊骨幹，並建立 Catkin 工作空間。</p>
                    </div>
                    <div class="flowchart-step absolute w-8 h-8 bg-emerald-500 rounded-full -left-4 top-2/4 mt-10 border-4 border-white"></div>
                    <div class="flowchart-step bg-white p-6 rounded-lg shadow-lg">
                        <h3 class="text-xl font-bold text-emerald-700">3. 配置 Arduino 神經中樞</h3>
                        <p class="mt-2 text-stone-600">為 Arduino 安裝 `rosserial` 函式庫並燒錄特定韌體，使其成為一個原生的 ROS 節點。</p>
                    </div>
                    <div class="flowchart-step absolute w-8 h-8 bg-rose-500 rounded-full -left-4 top-3/4 mt-12 border-4 border-white"></div>
                    <div class="flowchart-step bg-white p-6 rounded-lg shadow-lg">
                        <h3 class="text-xl font-bold text-rose-700">4. 啟動與校準</h3>
                        <p class="mt-2 text-stone-600">編譯並啟動 InMoov 的 ROS 工作空間，首先在 Rviz 模擬器中進行驗證，然後連接實體硬體並進行關節校準。</p>
                    </div>
                </div>
            </section>

            <section id="ai-app" class="content-section space-y-8">
                <h2 class="text-3xl font-bold text-stone-700 border-b-4 border-amber-400 pb-2">AI 應用實例：即時姿態模仿</h2>
                <p class="text-lg text-stone-600">這個高階應用案例完美展示了整個系統的協同工作能力。機器人透過攝影機「觀察」人類，並即時模仿其手臂動作。下方的數據流圖展示了資訊如何從攝影機的原始像素，經過 AI 大腦的處理，最終轉化為機器人的物理動作。將滑鼠懸停在步驟上以查看其功能。</p>
                <div class="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-4 text-center">
                    <div class="interactive-diagram-item">
                        <div class="diagram-content bg-white p-4 rounded-lg shadow w-48 h-32 flex flex-col justify-center">
                            <div class="text-3xl">📷</div>
                            <h4 class="font-bold">1. 視覺感知</h4>
                            <p class="text-xs text-stone-500">ROS 節點捕獲影像</p>
                        </div>
                    </div>
                    <div class="text-2xl font-bold text-stone-400 transform rotate-90 md:rotate-0">→</div>
                    <div class="interactive-diagram-item">
                        <div class="diagram-content bg-white p-4 rounded-lg shadow w-48 h-32 flex flex-col justify-center">
                            <div class="text-3xl">🧠</div>
                            <h4 class="font-bold">2. AI 推理</h4>
                            <p class="text-xs text-stone-500">Jetson Nano 執行姿態估計</p>
                        </div>
                    </div>
                    <div class="text-2xl font-bold text-stone-400 transform rotate-90 md:rotate-0">→</div>
                    <div class="interactive-diagram-item">
                        <div class="diagram-content bg-white p-4 rounded-lg shadow w-48 h-32 flex flex-col justify-center">
                            <div class="text-3xl">📐</div>
                            <h4 class="font-bold">3. 控制邏輯</h4>
                            <p class="text-xs text-stone-500">Python 節點計算馬達角度</p>
                        </div>
                    </div>
                    <div class="text-2xl font-bold text-stone-400 transform rotate-90 md:rotate-0">→</div>
                    <div class="interactive-diagram-item">
                        <div class="diagram-content bg-white p-4 rounded-lg shadow w-48 h-32 flex flex-col justify-center">
                            <div class="text-3xl">🦾</div>
                            <h4 class="font-bold">4. 物理執行</h4>
                            <p class="text-xs text-stone-500">Arduino 驅動伺服馬達</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const navLinks = document.querySelectorAll('.nav-link');
    const contentSections = document.querySelectorAll('.content-section');

    const bomData = [
        { category: '核心處理', name: 'NVIDIA Jetson Nano', quantity: 1, cost: 99 },
        { category: '核心處理', name: 'Arduino Mega 2560 R3', quantity: 2, cost: 40 },
        { category: '致動器', name: 'Hitec HS805BB (高扭矩)', quantity: 8, cost: 240 },
        { category: '致動器', name: 'HK15298B (標準)', quantity: 10, cost: 180 },
        { category: '致動器', name: 'MG996R (備選)', quantity: 2, cost: 22 },
        { category: '電源系統', name: '6V 12Ah 電源', quantity: 1, cost: 30 },
        { category: '電源系統', name: '5V 4A 電源 (邏輯)', quantity: 1, cost: 15 },
        { category: '電源系統', name: '大功率 USB 3.0 集線器', quantity: 1, cost: 25 },
        { category: '其他', name: 'ABS/PLA 線材 (4kg)', quantity: 4, cost: 100 },
        { category: '其他', name: 'USB 網路攝影機', quantity: 1, cost: 25 },
        { category: '其他', name: '五金與線材套件', quantity: 1, cost: 45 },
    ];

    const bomTableBody = document.getElementById('bom-table-body');
    const bomFilters = document.getElementById('bom-filters');
    let costChart;

    function updateContent(hash) {
        const targetHash = hash || '#overview';
        
        contentSections.forEach(section => {
            if ('#' + section.id === targetHash) {
                section.classList.add('active');
            } else {
                section.classList.remove('active');
            }
        });

        navLinks.forEach(link => {
            if (link.getAttribute('href') === targetHash) {
                link.classList.add('active');
            } else {
                link.classList.remove('active');
            }
        });
        
        if (targetHash === '#hardware' && !costChart) {
            renderBom('all');
        }
    }

    function renderBom(filter) {
        const filteredData = filter === 'all' ? bomData : bomData.filter(item => item.category === filter);

        bomTableBody.innerHTML = '';
        filteredData.forEach(item => {
            const row = document.createElement('tr');
            row.className = 'bg-white border-b';
            row.innerHTML = `
                <td class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">${item.name}</td>
                <td class="px-6 py-4">${item.quantity}</td>
                <td class="px-6 py-4">$${item.cost}</td>
            `;
            bomTableBody.appendChild(row);
        });

        updateChart(filteredData);
    }

    function updateChart(data) {
        const categoryCosts = data.reduce((acc, item) => {
            acc[item.category] = (acc[item.category] || 0) + item.cost;
            return acc;
        }, {});

        const chartLabels = Object.keys(categoryCosts);
        const chartData = Object.values(categoryCosts);
        const totalCost = chartData.reduce((a, b) => a + b, 0);

        if (costChart) {
            costChart.data.labels = chartLabels;
            costChart.data.datasets[0].data = chartData;
            costChart.options.plugins.title.text = `總估算成本: $${totalCost.toFixed(2)}`;
            costChart.update();
        } else {
            const ctx = document.getElementById('costChart').getContext('2d');
            costChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: chartLabels,
                    datasets: [{
                        label: '成本分佈',
                        data: chartData,
                        backgroundColor: [
                            'rgba(251, 146, 60, 0.8)',
                            'rgba(59, 130, 246, 0.8)',
                            'rgba(239, 68, 68, 0.8)',
                            'rgba(16, 185, 129, 0.8)',
                            'rgba(139, 92, 246, 0.8)',
                        ],
                        borderColor: [
                            'rgba(251, 146, 60, 1)',
                            'rgba(59, 130, 246, 1)',
                            'rgba(239, 68, 68, 1)',
                            'rgba(16, 185, 129, 1)',
                            'rgba(139, 92, 246, 1)',
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        title: {
                            display: true,
                            text: `總估算成本: $${totalCost.toFixed(2)}`,
                            font: {
                                size: 16
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed !== null) {
                                        label += new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(context.parsed);
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
        }
    }

    bomFilters.addEventListener('click', function(e) {
        if (e.target.tagName === 'BUTTON') {
            const filter = e.target.dataset.filter;
            renderBom(filter);
            
            // Update active button style
            bomFilters.querySelectorAll('button').forEach(btn => {
                btn.classList.remove('bg-amber-500', 'text-white');
                btn.classList.add('bg-stone-200');
            });
            e.target.classList.add('bg-amber-500', 'text-white');
            e.target.classList.remove('bg-stone-200');
        }
    });

    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetHash = this.getAttribute('href');
            window.location.hash = targetHash;
        });
    });

    window.addEventListener('hashchange', () => updateContent(window.location.hash));
    
    updateContent(window.location.hash);
});
</script>

</body>
</html>
